var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},__assign.apply(this,arguments)},rAF=window.requestAnimationFrame||function(t){window.setTimeout(t,1e3/60)},Odometer=function(){function t(t){this.version="1.0",this.defaults={duration:.8,lastDigitDelay:.25},this.cell_digits=null,this.options=__assign(__assign({},this.defaults),t),this.cell_digits=null}return t.prototype.render=function(t,e){e=e.replace(/,/g,"");var n=this.options,i=!1;if(!this.cell_digits){if(i=!0,!document.querySelector("style[odometer]")){var r=document.createElement("style");r.setAttribute("odometer","odometer"),r.innerHTML=".odometer-numbers{display:inline-flex;line-height:100%;overflow-y:hidden}.odometer-numbers>span{display:flex;flex-direction:column;justify-content:start;align-items:center;height:1em;will-change:transform;transform:translateY(0)}",document.head.appendChild(r)}t.innerHTML='<div class="odometer-numbers"></div>',this.cell_digits=[]}for(var o='<span style="color:transparent">0</span>',a="transform ".concat(n.duration,"s ease-out"),s=this.cell_digits.length;s<e.length;s++){var l=document.createElement("span");l.style.transition=a,l.innerHTML=i?"":o,t.firstChild&&t.firstChild.appendChild(l),this.cell_digits.push({container:l,current:void 0,position:i?1:0,new:!0})}function c(t,e){t.position--,t.container.appendChild(e),t.lastTimeAdd=+new Date,t.new?(t.new=!1,rAF((function(){t.container.style.transform="translateY(".concat(t.position,"em)")}))):t.container.style.transform="translateY(".concat(t.position,"em)")}var d,u,m=Math.max(e.length,this.cell_digits.length),h=function(){d=s<e.length?e.charAt(s):null;var t=f.cell_digits[s];t.current!=d&&(t.current=d,(u=document.createElement("span")).innerHTML=null===d?o:d,t.container.children.length<4?c(t,u):function(t,e){t.nextToAdd&&(c(t,t.nextToAdd),clearTimeout(t.lastTimer),t.nextToAdd=null);var i=+new Date,r=1e3*n.lastDigitDelay-(i-t.lastTimeAdd);n.lastDigitDelay<=0||i-t.lastTimeAdd>=1.05*r?(c(t,e),t.nextToAdd=null):(t.nextToAdd=e,t.lastTimer=setTimeout((function(){c(t,t.nextToAdd),t.nextToAdd=null}),1e3*n.duration))}(t,u),clearTimeout(t.timerClean),t.timerClean=setTimeout((function(){t.timerClean=null,t.container.children.length<3||(t.container.style.transition="none",rAF((function(){for(t.position=-1;t.container.children.length>1;)t.container.removeChild(t.container.firstChild);var e=document.createElement("span");e.innerHTML=o,t.container.insertBefore(e,t.container.firstChild),t.container.style.transform="translateY(".concat(t.position,"em)"),rAF((function(){t.container.style.transition=a}))})))}),1e3*((n.duration||.8)+(n.duration||.25))+2500))},f=this;for(s=0;s<m;s++)h()},t}();export{Odometer};